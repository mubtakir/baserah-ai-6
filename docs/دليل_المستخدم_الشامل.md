# 🧬 دليل المستخدم الشامل - نظام بصيرة الثوري

## 📋 جدول المحتويات
1. [مقدمة النظام](#مقدمة-النظام)
2. [متطلبات التشغيل](#متطلبات-التشغيل)
3. [التثبيت والإعداد](#التثبيت-والإعداد)
4. [الاستخدام الأساسي](#الاستخدام-الأساسي)
5. [استجلاب المعرفة من المصادر الخارجية](#استجلاب-المعرفة-من-المصادر-الخارجية)
6. [البحث والاستعلام](#البحث-والاستعلام)
7. [الطريق نحو الاستقلالية](#الطريق-نحو-الاستقلالية)
8. [استكشاف الأخطاء](#استكشاف-الأخطاء)

---

## 🎯 مقدمة النظام

**نظام بصيرة الثوري** هو نظام ذكي لإدارة المعرفة يهدف إلى:

### ✨ الميزات الأساسية:
- 🧬 **تطبيق النظريات الثورية الثلاث** على كل المعرفة
- 🌉 **تكامل مع مصادر خارجية** (Ollama، ويكيبيديا، ملفات محلية)
- 📚 **بناء مكتبة معرفية مستقلة** تدريجياً
- 🔍 **نظام بحث ذكي موحد**
- 📊 **إحصائيات وتحليلات متقدمة**

### 🧬 النظريات الثورية الثلاث:
1. **ثنائية الصفر (Zero Duality)**: تحليل توازن المحتوى
2. **الأضداد العمودية (Perpendicular Opposites)**: قياس التعقيد
3. **الخيوط (Filaments)**: ربط الكلمات المفتاحية

---

## ⚙️ متطلبات التشغيل

### 🖥️ متطلبات النظام:
- **نظام التشغيل**: Linux (Ubuntu/Debian مفضل)
- **Python**: 3.8 أو أحدث
- **الذاكرة**: 4 GB RAM كحد أدنى (8 GB مُوصى به)
- **التخزين**: 10 GB مساحة فارغة
- **الإنترنت**: للتحميل والتحديثات

### 📦 المكتبات المطلوبة:
```bash
# المكتبات الأساسية
sqlite3      # قاعدة البيانات
requests     # الاتصال بالإنترنت
json         # معالجة البيانات
hashlib      # التشفير
re           # التعبيرات النمطية
```

---

## 🚀 التثبيت والإعداد

### 1️⃣ إعداد البيئة الافتراضية

```bash
# إنشاء بيئة افتراضية جديدة
python3 -m venv myenv

# تفعيل البيئة الافتراضية
source myenv/bin/activate

# التأكد من تفعيل البيئة (يجب أن ترى (myenv) في بداية السطر)
which python3
```

### 2️⃣ تثبيت المتطلبات الأساسية

```bash
# تحديث مدير الحزم
sudo apt update

# تثبيت Python والمكتبات الأساسية
sudo apt install python3-pip python3-dev python3-requests -y

# تثبيت curl للتحميل
sudo apt install curl -y
```

### 3️⃣ تثبيت Ollama

```bash
# تفعيل البيئة الافتراضية أولاً
source myenv/bin/activate

# تثبيت Ollama
curl -fsSL https://ollama.com/install.sh | sh

# التحقق من التثبيت
ollama --version
```

### 4️⃣ تحميل نموذج لغوي

```bash
# تحميل نموذج صغير وسريع (مُوصى به للبداية)
ollama pull llama3.2:1b

# أو نموذج أكبر وأكثر دقة (يتطلب ذاكرة أكبر)
ollama pull llama3.2:3b

# التحقق من النماذج المحملة
ollama list
```

### 5️⃣ تحضير ملفات النظام

```bash
# الانتقال إلى مجلد المشروع
cd /path/to/your/project

# التأكد من وجود الملفات الأساسية
ls -la *.py

# يجب أن ترى:
# - revolutionary_knowledge_system.py
# - knowledge_harvester.py
# - ollama_integration.py
# - external_knowledge_bridge.py
```

---

## 🎮 الاستخدام الأساسي

### 1️⃣ تشغيل النظام لأول مرة

```bash
# تفعيل البيئة الافتراضية
source myenv/bin/activate

# تشغيل النظام الشامل
python3 revolutionary_knowledge_system.py
```

**النتيجة المتوقعة:**
```
🧬⚡ نظام المعرفة الثوري الشامل - نظام بصيرة
======================================================================
📊 تم إعداد قاعدة البيانات الرئيسية
🌾⚡ تم إنشاء حاصد المعرفة الثوري
🦙⚡ تم إنشاء تكامل Ollama
✅ تم تهيئة النظام بنجاح!
```

### 2️⃣ الاستخدام التفاعلي

```python
# في Python أو ملف .py جديد
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem

# إنشاء النظام
system = RevolutionaryKnowledgeSystem()

# عرض الإحصائيات الحالية
print("📊 إحصائيات النظام:")
print(f"إجمالي المعرفة: {system.internal_knowledge_count}")
```

### 3️⃣ فحص حالة النظام

```bash
# فحص حالة Ollama
ollama list

# فحص قواعد البيانات
ls -la databases/

# فحص الملفات الأساسية
python3 -c "
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem
system = RevolutionaryKnowledgeSystem()
print('✅ النظام يعمل بشكل صحيح!')
"
```

---

## 🌐 استجلاب المعرفة من المصادر الخارجية

### 1️⃣ من Ollama (النماذج اللغوية)

```python
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem

# إنشاء النظام
system = RevolutionaryKnowledgeSystem()

# استخراج معرفة من Ollama
topics = [
    "ما هو الذكاء الاصطناعي؟",
    "كيف تعمل الشبكات العصبية؟",
    "ما هي البرمجة؟",
    "شرح مفهوم قواعد البيانات"
]

for topic in topics:
    print(f"📚 استخراج معرفة حول: {topic}")
    result = system.extract_from_external_source('ollama', topic)
    if result:
        print(f"✅ تم بنجاح: {result[:100]}...")
    else:
        print("❌ فشل في الاستخراج")
```

### 2️⃣ من ملفات نصية محلية

```bash
# إنشاء مجلد للملفات النصية
mkdir -p text_files

# إضافة ملفات نصية (مثال)
echo "هذا نص تجريبي عن الرياضيات والهندسة" > text_files/math.txt
echo "معلومات عن تاريخ العلوم والتكنولوجيا" > text_files/science.txt
```

```python
# استخراج من الملفات المحلية
from knowledge_harvester import KnowledgeHarvester

harvester = KnowledgeHarvester()

# استخراج من مجلد الملفات
harvester.harvest_from_directory("text_files/")

# أو من ملف واحد
harvester.harvest_from_file("text_files/math.txt")
```

### 3️⃣ من ويكيبيديا (قريباً)

```python
# سيتم إضافة هذه الميزة قريباً
# system.extract_from_external_source('wikipedia', 'موضوع البحث')
```

### 4️⃣ استخراج مجمع

```python
# استخراج معرفة متنوعة دفعة واحدة
topics_batch = [
    "الفيزياء الكمية",
    "علم الأحياء",
    "الكيمياء العضوية",
    "الرياضيات التطبيقية",
    "علوم الحاسوب"
]

print("🔄 بدء الاستخراج المجمع...")
for i, topic in enumerate(topics_batch, 1):
    print(f"📚 ({i}/{len(topics_batch)}) {topic}")
    result = system.extract_from_external_source('ollama', topic)
    if result:
        print(f"✅ تم")
    else:
        print(f"❌ فشل")

print("🎉 انتهى الاستخراج المجمع!")
```

---

## 🔍 البحث والاستعلام

### 1️⃣ البحث الأساسي

```python
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem

system = RevolutionaryKnowledgeSystem()

# البحث عن موضوع
results = system.search_unified_knowledge("ذكاء اصطناعي")

print(f"عدد النتائج: {len(results)}")
for i, result in enumerate(results, 1):
    print(f"{i}. {result['content'][:100]}...")
    print(f"   المصدر: {result['source_type']}")
    print(f"   الفئة: {result['category']}")
    print()
```

### 2️⃣ البحث المتقدم

```python
# البحث مع تحديد عدد النتائج
results = system.search_unified_knowledge("رياضيات", limit=5)

# البحث في فئة محددة
results = system.search_unified_knowledge("تعلم آلي")

# عرض تفاصيل النتائج
for result in results:
    print(f"📄 المحتوى: {result['content']}")
    print(f"🏷️ الفئة: {result['category']}")
    print(f"🔗 المصدر: {result['source_type']}")
    print(f"🧬 ثنائية الصفر: {result['zero_duality_score']:.3f}")
    print(f"⚖️ العمودية: {result['perpendicularity_factor']:.3f}")
    print("-" * 50)
```

### 3️⃣ إحصائيات المعرفة

```python
# عرض إحصائيات شاملة
def show_system_stats():
    system = RevolutionaryKnowledgeSystem()
    
    # إحصائيات عامة
    print("📊 إحصائيات النظام:")
    print(f"📚 إجمالي المعرفة: {system.internal_knowledge_count}")
    
    # البحث عن كل الفئات
    all_results = system.search_unified_knowledge("", limit=1000)
    
    # تجميع حسب المصدر
    sources = {}
    categories = {}
    
    for result in all_results:
        source = result['source_type']
        category = result['category']
        
        sources[source] = sources.get(source, 0) + 1
        categories[category] = categories.get(category, 0) + 1
    
    print("\n🔗 توزيع المصادر:")
    for source, count in sources.items():
        print(f"  {source}: {count}")
    
    print("\n📂 توزيع الفئات:")
    for category, count in categories.items():
        print(f"  {category}: {count}")

# تشغيل الإحصائيات
show_system_stats()
```

---

## 🎯 الطريق نحو الاستقلالية

### المرحلة 1: البناء الأولي (الحالية)
```bash
# الهدف: 100-500 عنصر معرفي
# المدة: 1-2 أسبوع

# إضافة معرفة يومياً
python3 -c "
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem
system = RevolutionaryKnowledgeSystem()

daily_topics = [
    'موضوع اليوم 1',
    'موضوع اليوم 2',
    'موضوع اليوم 3'
]

for topic in daily_topics:
    system.extract_from_external_source('ollama', topic)
"
```

### المرحلة 2: التوسع المتوسط
```bash
# الهدف: 500-2000 عنصر معرفي
# المدة: 1-2 شهر

# استخراج مجمع أسبوعي
python3 weekly_extraction.py
```

### المرحلة 3: البناء المكثف
```bash
# الهدف: 2000-10000 عنصر معرفي
# المدة: 2-6 شهر

# تشغيل استخراج تلقائي
python3 automated_extraction.py
```

### المرحلة 4: الاستقلالية الكاملة
```bash
# الهدف: 10000+ عنصر معرفي
# النتيجة: نظام مستقل بالكامل

# تدريب نماذج محلية
python3 train_local_models.py
```

---

## 🔧 استكشاف الأخطاء

### مشكلة: Ollama لا يعمل
```bash
# فحص حالة Ollama
ollama list

# إعادة تشغيل خدمة Ollama
sudo systemctl restart ollama

# فحص السجلات
sudo journalctl -u ollama -f
```

### مشكلة: مهلة زمنية منتهية
```python
# زيادة المهلة الزمنية في ollama_integration.py
# البحث عن timeout=60 وتغييرها إلى timeout=120
```

### مشكلة: قاعدة البيانات تالفة
```bash
# حذف قواعد البيانات وإعادة إنشائها
rm -rf databases/
python3 revolutionary_knowledge_system.py
```

### مشكلة: نفاد الذاكرة
```bash
# استخدام نموذج أصغر
ollama pull llama3.2:1b

# أو تقليل عدد العمليات المتزامنة
```

---

## 📞 الدعم والمساعدة

### 🆘 في حالة المشاكل:
1. **تحقق من السجلات** في terminal
2. **أعد تشغيل النظام** بالكامل
3. **تأكد من البيئة الافتراضية** مفعلة
4. **فحص اتصال الإنترنت** للمصادر الخارجية

### 📚 موارد إضافية:
- **ملف التوثيق**: `EXTERNAL_KNOWLEDGE_INTEGRATION_GUIDE.md`
- **أمثلة الاستخدام**: في ملفات `*_integration.py`
- **اختبارات النظام**: تشغيل `revolutionary_knowledge_system.py`

---

## 🎯 أمثلة عملية شاملة

### مثال 1: جلسة استخدام كاملة

```bash
# 1. تفعيل البيئة
source myenv/bin/activate

# 2. التحقق من Ollama
ollama list

# 3. تشغيل النظام
python3 -c "
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem

print('🚀 بدء جلسة عمل جديدة...')
system = RevolutionaryKnowledgeSystem()

# إضافة معرفة جديدة
topics = [
    'ما هو التعلم العميق؟',
    'شرح الشبكات العصبية',
    'مفهوم معالجة اللغة الطبيعية'
]

print('📚 إضافة معرفة جديدة...')
for topic in topics:
    result = system.extract_from_external_source('ollama', topic)
    if result:
        print(f'✅ {topic}')
    else:
        print(f'❌ {topic}')

# البحث في المعرفة
print('\\n🔍 اختبار البحث...')
search_terms = ['تعلم', 'شبكة', 'لغة']
for term in search_terms:
    results = system.search_unified_knowledge(term)
    print(f'{term}: {len(results)} نتيجة')

print('🎉 انتهت الجلسة بنجاح!')
"
```

### مثال 2: بناء مكتبة متخصصة

```python
# ملف: build_specialized_library.py
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem
import time

def build_ai_library():
    """بناء مكتبة متخصصة في الذكاء الاصطناعي"""
    system = RevolutionaryKnowledgeSystem()

    ai_topics = [
        "تاريخ الذكاء الاصطناعي",
        "أنواع خوارزميات التعلم الآلي",
        "الشبكات العصبية التطبيقية",
        "معالجة الصور بالذكاء الاصطناعي",
        "الذكاء الاصطناعي في الطب",
        "أخلاقيات الذكاء الاصطناعي",
        "مستقبل الذكاء الاصطناعي",
        "التعلم المعزز والتطبيقات",
        "معالجة اللغة العربية",
        "الرؤية الحاسوبية"
    ]

    print(f"🎯 بناء مكتبة الذكاء الاصطناعي ({len(ai_topics)} موضوع)")

    successful = 0
    failed = 0

    for i, topic in enumerate(ai_topics, 1):
        print(f"📚 ({i}/{len(ai_topics)}) {topic}")

        result = system.extract_from_external_source('ollama', topic)
        if result:
            successful += 1
            print(f"✅ تم بنجاح")
        else:
            failed += 1
            print(f"❌ فشل")

        # توقف قصير لتجنب إرهاق النظام
        time.sleep(2)

    print(f"\\n📊 النتائج النهائية:")
    print(f"✅ نجح: {successful}")
    print(f"❌ فشل: {failed}")
    print(f"📈 معدل النجاح: {(successful/(successful+failed)*100):.1f}%")

if __name__ == "__main__":
    build_ai_library()
```

### مثال 3: نظام مراقبة النمو

```python
# ملف: monitor_growth.py
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem
import sqlite3
from datetime import datetime

def monitor_system_growth():
    """مراقبة نمو النظام وإنتاج تقارير"""
    system = RevolutionaryKnowledgeSystem()

    # الاتصال بقاعدة البيانات
    conn = sqlite3.connect('databases/revolutionary_knowledge_system.db')
    cursor = conn.cursor()

    # إحصائيات شاملة
    cursor.execute("SELECT COUNT(*) FROM unified_knowledge")
    total_knowledge = cursor.fetchone()[0]

    cursor.execute("SELECT source_type, COUNT(*) FROM unified_knowledge GROUP BY source_type")
    sources_stats = cursor.fetchall()

    cursor.execute("SELECT category, COUNT(*) FROM unified_knowledge GROUP BY category")
    categories_stats = cursor.fetchall()

    cursor.execute("SELECT AVG(zero_duality_score), AVG(perpendicularity_factor) FROM unified_knowledge")
    avg_scores = cursor.fetchone()

    # طباعة التقرير
    print("📊 تقرير نمو النظام")
    print("=" * 50)
    print(f"📅 التاريخ: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print(f"📚 إجمالي المعرفة: {total_knowledge}")

    print("\\n🔗 توزيع المصادر:")
    for source, count in sources_stats:
        percentage = (count / total_knowledge) * 100
        print(f"  {source}: {count} ({percentage:.1f}%)")

    print("\\n📂 توزيع الفئات:")
    for category, count in categories_stats:
        percentage = (count / total_knowledge) * 100
        print(f"  {category}: {count} ({percentage:.1f}%)")

    print("\\n🧬 متوسط النظريات الثورية:")
    print(f"  ثنائية الصفر: {avg_scores[0]:.3f}")
    print(f"  العمودية: {avg_scores[1]:.3f}")

    # تقييم مستوى الاستقلالية
    external_count = sum(count for source, count in sources_stats if source != 'internal')
    independence_level = (external_count / total_knowledge) * 100 if total_knowledge > 0 else 0

    print(f"\\n🎯 مستوى الاستقلالية: {independence_level:.1f}%")

    if independence_level < 20:
        print("🔴 مستوى منخفض - يحتاج المزيد من المعرفة الخارجية")
    elif independence_level < 50:
        print("🟡 مستوى متوسط - في طريق جيد للاستقلالية")
    else:
        print("🟢 مستوى عالي - قريب من الاستقلالية!")

    conn.close()

if __name__ == "__main__":
    monitor_system_growth()
```

---

## 🔄 سكريبت الصيانة اليومية

```bash
#!/bin/bash
# ملف: daily_maintenance.sh

echo "🔧 بدء الصيانة اليومية لنظام بصيرة..."

# تفعيل البيئة الافتراضية
source myenv/bin/activate

# فحص حالة Ollama
echo "🦙 فحص حالة Ollama..."
if ollama list > /dev/null 2>&1; then
    echo "✅ Ollama يعمل بشكل طبيعي"
else
    echo "❌ مشكلة في Ollama - محاولة إعادة التشغيل..."
    sudo systemctl restart ollama
    sleep 5
fi

# فحص قواعد البيانات
echo "📊 فحص قواعد البيانات..."
if [ -f "databases/revolutionary_knowledge_system.db" ]; then
    echo "✅ قاعدة البيانات الرئيسية موجودة"
else
    echo "❌ قاعدة البيانات مفقودة - إعادة إنشاء..."
    python3 revolutionary_knowledge_system.py
fi

# تشغيل تقرير النمو
echo "📈 إنتاج تقرير النمو..."
python3 monitor_growth.py

# إضافة معرفة يومية (اختياري)
echo "📚 إضافة معرفة يومية..."
python3 -c "
from revolutionary_knowledge_system import RevolutionaryKnowledgeSystem
import random

system = RevolutionaryKnowledgeSystem()

daily_topics = [
    'تطورات جديدة في التكنولوجيا',
    'اكتشافات علمية حديثة',
    'تقنيات البرمجة المتقدمة',
    'نظريات رياضية مهمة',
    'مفاهيم فيزيائية أساسية'
]

topic = random.choice(daily_topics)
print(f'📖 موضوع اليوم: {topic}')
result = system.extract_from_external_source('ollama', topic)
if result:
    print('✅ تم إضافة معرفة جديدة')
else:
    print('❌ فشل في إضافة المعرفة')
"

echo "🎉 انتهت الصيانة اليومية!"
```

```bash
# جعل السكريبت قابل للتنفيذ
chmod +x daily_maintenance.sh

# تشغيل الصيانة
./daily_maintenance.sh
```

---

## 📋 قائمة مراجعة الاستقلالية

### ✅ المرحلة 1: الأساسيات (0-100 عنصر)
- [ ] تثبيت النظام بنجاح
- [ ] تشغيل Ollama
- [ ] استخراج أول 10 عناصر معرفية
- [ ] اختبار البحث الأساسي
- [ ] إنشاء نسخة احتياطية من قاعدة البيانات

### ✅ المرحلة 2: التوسع (100-500 عنصر)
- [ ] إضافة 5 فئات معرفية مختلفة
- [ ] تحقيق معدل نجاح 80%+ في الاستخراج
- [ ] إنشاء سكريبت صيانة يومية
- [ ] اختبار البحث المتقدم
- [ ] مراقبة أداء النظام

### ✅ المرحلة 3: النضج (500-2000 عنصر)
- [ ] تغطية 10+ مجالات معرفية
- [ ] تطوير نظام تقييم جودة المعرفة
- [ ] إضافة مصادر معرفية إضافية
- [ ] تحسين خوارزميات البحث
- [ ] إنشاء واجهة مستخدم بسيطة

### ✅ المرحلة 4: الاستقلالية (2000+ عنصر)
- [ ] تحقيق 2000+ عنصر معرفي عالي الجودة
- [ ] تطوير نماذج محلية مدربة على البيانات
- [ ] تقليل الاعتماد على المصادر الخارجية
- [ ] إنشاء نظام توليد معرفة ذاتي
- [ ] تحقيق الاستقلالية الكاملة

---

**🎉 مبروك! أنت الآن جاهز لاستخدام نظام بصيرة الثوري وبناء مكتبة معرفية مستقلة!** 🚀

**📞 للدعم والمساعدة، راجع قسم استكشاف الأخطاء أو ارجع إلى الملفات المرجعية في المشروع.**
